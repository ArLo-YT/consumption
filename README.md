# 消费规划模拟工具

本项目基于 **Python + Streamlit** 开发，结合永久性收入假说（PIH, Permanent Income Hypothesis），帮助用户进行长期消费与财富规划。
用户可输入当前资产、当前收入、收入增长率、利率、通胀率、消费偏好、最终目标财富等参数，系统会自动计算未来各年的收入、消费与资产变化，并生成图表可视化结果。

------------------------------------------------------------------------

## 功能特点

-   📈 **收入模拟**：支持设定初始年薪和增长率，自动生成未来收入序列。
-   ✍️ **自定义收入**：支持用户为特定年份输入自定义收入（如奖金、额外收益等）。
-   💰 **消费规划**：基于 PIH 模型，计算在不同利率和通胀下的最优消费路径。
-   🎯 **消费偏好调整**：用户可自定义消费偏好，选择更偏向 **当下消费** 或 **未来消费**，模拟不同消费习惯对长期资产的影响。
-   📊 **结果可视化**：生成以下图表：
    -   收入与消费趋势
    -   资产变化曲线
    -   通胀修正后的消费购买力变化
-   ⚠️ **风险提示**：当消费不可持续或资产穿越正负区间时，给出警告信息。

------------------------------------------------------------------------

## 使用示例

1.  输入参数：

    -   当前资产：`100000`
    -   周期：`30年`
    -   当前年薪：`100000`，增长率：`2%`
    -   年利率：`3%`，通胀率：`2%`
    -   消费偏好：`+1%`（更偏向未来消费）
    -   最终目标资产：`0`

2.  输出结果：

    -   每年收入、消费、资产记录表格
    -   收入与消费趋势图
    -   年末资产变化图
    -   通胀修正后的消费购买力图

------------------------------------------------------------------------

## 环境依赖

请确保已安装以下依赖库（推荐使用 Python 3.9+）：

``` txt
streamlit
pandas
numpy
matplotlib
```

如需运行机器学习或更多可视化，可以在 `requirements.txt` 中加入额外库。

------------------------------------------------------------------------

## 本地运行

1.  克隆本项目：

    ``` bash
    git clone https://github.com/yourname/PIH-ui.git
    cd PIH-ui
    ```

2.  安装依赖：

    ``` bash
    pip install -r requirements.txt
    ```

3.  启动应用：

    ``` bash
    streamlit run PIH_ui.py
    ```

4.  在浏览器打开 <http://localhost:8501>，即可使用。

------------------------------------------------------------------------

## 部署说明

### Streamlit Cloud

1.  将代码上传至 GitHub。

2.  确保根目录下包含 `requirements.txt`：

    ``` txt
    streamlit
    pandas
    numpy
    matplotlib
    ```

3.  在 [Streamlit Cloud](https://streamlit.io/cloud) 绑定仓库并部署。

### 字体设置（解决中文显示问题）

-   项目自带中文字体文件，放置在 `simhei.ttf`。
-   在代码中已加入自动加载逻辑，无需额外配置。
-   若无字体文件，可能导致中文显示为方框。

------------------------------------------------------------------------

## 文件结构

    .
    ├── PIH_ui.py          # 主程序
    ├── requirements.txt   # 依赖列表
    ├── simhei.ttf         # 中文字体文件
    └── README.md          # 项目说明文档

------------------------------------------------------------------------

## 许可证

本项目仅供学习和研究使用。你可以自由修改和扩展，但请注明出处。
